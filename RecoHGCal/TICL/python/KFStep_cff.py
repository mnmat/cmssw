import FWCore.ParameterSet.Config as cms

from RecoHGCal.TICL.TICLSeedingRegions_cff import ticlSeedingTrk
from RecoHGCal.TICL.trackstersProducer_cfi import trackstersProducer as _trackstersProducer
from RecoHGCal.TICL.filteredLayerClustersProducer_cfi import filteredLayerClustersProducer as _filteredLayerClustersProducer
from RecoHGCal.TICL.multiClustersFromTrackstersProducer_cfi import multiClustersFromTrackstersProducer as _multiClustersFromTrackstersProducer
from RecoHGCal.TICL.ticlLayerTileProducer_cfi import ticlLayerTileProducer

# CLUSTER FILTERING/MASKING

filteredLayerClustersKF = _filteredLayerClustersProducer.clone(
    clusterFilter = "ClusterFilterByAlgoAndSize",
    min_cluster_size = 2, # inclusive
    algo_number = 8,
    iteration_label = "KF",
)

# PATTERN RECOGNITION

ticlTrackstersKF = _trackstersProducer.clone(
    filtered_mask = "filteredLayerClustersKF:KF",
    layer_clusters_tiles = "ticlRecHitTile:Test",
    seeding_regions = "ticlSeedingTrk",
    itername = "KF",
    patternRecognitionBy = "KF",
    pluginPatternRecognitionByKF = dict (
        radlen = [0.562719015399016,0.9551903779795146,1.043875789035635,0.8920189121952249,0.9712515382761755,
            0.9638214213266212,1.0131600728257035,0.931610084339171,0.9762915187242845,0.9673823352145134,
            0.9846489838011926,0.9687667855140328,0.9718771132058326,0.9676763827273792,0.9755766684867133,
            0.968786167714319,1.041570725190613,0.905510318469831,1.5448704774827073,0.9671013911948058,
            1.5527918490549046,0.9644685854108038,1.5537767590772382,0.9681776397486216,1.5531742202624652,
            0.9692846975312643,2.8275418030617567,3.003105180494033,3.005570502299292,3.0076357163745446,
            3.005138681398646,3.0106898519208087,3.005449098667002,3.007544959496376,3.0033570538999084,
            3.005449880885637,3.0056943107449103,4.158164083557213,4.1459435055013865,4.087756410389329,
            4.14190322796051,4.143581858605728,4.135287193893763,4.093154468149641,4.1386581126514566,
            4.145881343241816,4.145663423464052],
        xi = [0.0007556128308446044,0.0007601810242278396,0.0007383347392914731,0.0007954300436349306,0.0007079974303217379,
            0.0007587747875111608,0.0007506686955642467,0.000777442404205796,0.0007223198806925819,0.0007536986711079965,
            0.0007687577424509902,0.0007640633376218576,0.0007307246149741174,0.0007518274635026171,0.0007675709426774015,
            0.00075807841348618,0.000743616079227404,0.0007936746547956953,0.0005974640645738568,0.0007508915190685968,
            0.0006382593210233038,0.0007517838017659952,0.0006397287020925379,0.0007579429706626264,0.0006333046151356415,
            0.0007637633509097611,0.0010337707504477352,0.0010108776039545466,0.0010104712217333819,0.0010106368784497104,
            0.0010106003723634636,0.0010158675945647706,0.001010809007077468,0.001009561281210271,0.0010106988945190448,
            0.0010103715066888692,0.0010106495620045056,0.0010210702627516468,0.0010169851234559488,0.0010010856800569403,
            0.0010155575635282914,0.0010146829805806501,0.0010150368006945165,0.0009992234164373278,0.0010145096108228593,
            0.0010126783833862823,0.0010125427722475087],
        rescale = 100
    )
)



"""


        radlen = [0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0],
        xi = [0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0,0,0,0,
            0,0],
        rescale = 100


radlen = [0.562719015399016,0.9551903779795146,1.043875789035635,0.8920189121952249,0.9712515382761755,
    0.9638214213266212,1.0131600728257035,0.931610084339171,0.9762915187242845,0.9673823352145134,
    0.9846489838011926,0.9687667855140328,0.9718771132058326,0.9676763827273792,0.9755766684867133,
    0.968786167714319,1.041570725190613,0.905510318469831,1.5448704774827073,0.9671013911948058,
    1.5527918490549046,0.9644685854108038,1.5537767590772382,0.9681776397486216,1.5531742202624652,
    0.9692846975312643,2.8275418030617567,3.003105180494033,3.005570502299292,3.0076357163745446,
    3.005138681398646,3.0106898519208087,3.005449098667002,3.007544959496376,3.0033570538999084,
    3.005449880885637,3.0056943107449103,4.158164083557213,4.1459435055013865,4.087756410389329,
    4.14190322796051,4.143581858605728,4.135287193893763,4.093154468149641,4.1386581126514566,
    4.145881343241816,4.145663423464052],
xi = [0.0007556128308446044,0.0007601810242278396,0.0007383347392914731,0.0007954300436349306,0.0007079974303217379,
    0.0007587747875111608,0.0007506686955642467,0.000777442404205796,0.0007223198806925819,0.0007536986711079965,
    0.0007687577424509902,0.0007640633376218576,0.0007307246149741174,0.0007518274635026171,0.0007675709426774015,
    0.00075807841348618,0.000743616079227404,0.0007936746547956953,0.0005974640645738568,0.0007508915190685968,
    0.0006382593210233038,0.0007517838017659952,0.0006397287020925379,0.0007579429706626264,0.0006333046151356415,
    0.0007637633509097611,0.0010337707504477352,0.0010108776039545466,0.0010104712217333819,0.0010106368784497104,
    0.0010106003723634636,0.0010158675945647706,0.001010809007077468,0.001009561281210271,0.0010106988945190448,
    0.0010103715066888692,0.0010106495620045056,0.0010210702627516468,0.0010169851234559488,0.0010010856800569403,
    0.0010155575635282914,0.0010146829805806501,0.0010150368006945165,0.0009992234164373278,0.0010145096108228593,
    0.0010126783833862823,0.0010125427722475087],
"""

ticlKFStepTask = cms.Task(ticlSeedingTrk
    ,filteredLayerClustersKF
    ,ticlTrackstersKF)
